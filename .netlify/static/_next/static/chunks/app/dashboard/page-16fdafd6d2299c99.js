(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{43354:()=>{},73666:(e,t,a)=>{"use strict";a.d(t,{_V:()=>n,aV:()=>r,yw:()=>s});let s=[{region:"Tanzania",flag:"\uD83C\uDDF9\uD83C\uDDFF",currency:"TZS",baseToken:"TSHC",name:"Tanzania Shilling Coin",address:"0x123456789abcdef123456789abcdef123456789a",issuer:"NEDA Pay",description:"Stablecoin pegged 1:1 to the Tanzania Shilling (TZS)",website:"https://nedapay.app",chainId:0xaa36a7},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"cNGN",name:"Nigerian Naira Coin",address:"0x46C85152bFe9f96829aA94755D9f915F9B10EF5F",issuer:"Convexity",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453,decimals:6},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"NGNC",decimals:18,name:"Nigerian Naira Coin",address:"0xe743f13623e000261b634f0e5676f294475ec24d",issuer:"Link",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453},{region:"South Africa",flag:"\uD83C\uDDFF\uD83C\uDDE6",currency:"ZAR",baseToken:"ZARP",decimals:18,name:"South African Rand Coin",address:"0xb755506531786C8aC63B756BaB1ac387bACB0C04",issuer:"inv.es",description:"Stablecoin pegged 1:1 to the South African Rand (ZAR)",website:"https://stablecoins.earth",chainId:8453},{region:"Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9",currency:"IDR",baseToken:"IDRX",name:"Indonesian Rupiah Coin",address:"0x18Bc5bcC660cf2B9cE3cd51a404aFe1a0cBD3C22",issuer:"IDRX.co",description:"Stablecoin pegged 1:1 to the Indonesian Rupiah (IDR)",website:"https://stablecoins.earth",chainId:8453,decimals:2},{region:"Europe",flag:"\uD83C\uDDEA\uD83C\uDDFA",currency:"EUR",baseToken:"EURC",decimals:6,name:"Euro Coin",address:"0x60a3e35cc302bfa44cb288bc5a4f316fdb1adb42",issuer:"Circle",description:"Stablecoin pegged 1:1 to the Euro (EUR)",website:"https://stablecoins.earth",chainId:8453},{region:"Canada",flag:"\uD83C\uDDE8\uD83C\uDDE6",currency:"CAD",baseToken:"CADC",decimals:18,name:"Canadian Dollar Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"PayTrie",description:"Stablecoin pegged 1:1 to the Canadian Dollar (CAD)",website:"https://stablecoins.earth",chainId:8453},{region:"Brazil",flag:"\uD83C\uDDE7\uD83C\uDDF7",currency:"BRL",baseToken:"BRL",decimals:18,name:"Brazilian Real Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Transfero",description:"Stablecoin pegged 1:1 to the Brazilian Real (BRL)",website:"https://stablecoins.earth",chainId:8453},{region:"Turkey",flag:"\uD83C\uDDF9\uD83C\uDDF7",currency:"TRY",baseToken:"TRYB",decimals:6,name:"Turkish Lira Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"BiLira",description:"Stablecoin pegged 1:1 to the Turkish Lira (TRY)",website:"https://stablecoins.earth",chainId:8453},{region:"New Zealand",flag:"\uD83C\uDDF3\uD83C\uDDFF",currency:"NZD",baseToken:"NZDD",decimals:6,name:"New Zealand Dollar Coin",address:"0x2dD087589ce9C5b2D1b42e20d2519B3c8cF022b7",issuer:"Easy Crypto",description:"Stablecoin pegged 1:1 to the New Zealand Dollar (NZD)",website:"https://stablecoins.earth",chainId:8453},{region:"Mexico",flag:"\uD83C\uDDF2\uD83C\uDDFD",currency:"MXN",baseToken:"MXNe",decimals:6,name:"Mexican Peso Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Etherfuse/Brale",description:"Stablecoin pegged 1:1 to the Mexican Peso (MXN)",website:"https://stablecoins.earth",decimals:6},{region:"United States",flag:"\uD83C\uDDFA\uD83C\uDDF8",currency:"USD",baseToken:"USDC",name:"USD Coin",address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",issuer:"Circle",description:"USD-backed stablecoin by Circle (Base Mainnet)",website:"https://www.circle.com/usdc",chainId:8453,decimals:6}],r={TSHC:"25,000",cNGN:"8,500",IDRX:"12,000"},n=[{id:"0x123abc456def789ghi0123456789abcdef0123",shortId:"0x123...abc",date:"2025-04-11 10:23",amount:"5,000",currency:"TSHC",status:"Completed",customer:"John Doe",sender:"0x7890abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0x123abc456def789ghi0123456789abcdef0123"},{id:"0x456def789ghi0123456789abcdef0123456789",shortId:"0x456...def",date:"2025-04-10 15:45",amount:"2,500",currency:"cNGN",status:"Completed",customer:"Jane Smith",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0x456def789ghi0123456789abcdef0123456789"},{id:"0x789ghi0123456789abcdef0123456789abcdef",shortId:"0x789...ghi",date:"2025-04-10 09:12",amount:"10,000",currency:"TSHC",status:"Completed",customer:"Acme Corp",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0x789ghi0123456789abcdef0123456789abcdef"},{id:"0xabc0123456789abcdef0123456789abcdef0123",shortId:"0xabc...123",date:"2025-04-09 14:30",amount:"1,200",currency:"IDRX",status:"Completed",customer:"Bob Johnson",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xabc0123456789abcdef0123456789abcdef0123"},{id:"0xdef0123456789abcdef0123456789abcdef0123",shortId:"0xdef...456",date:"2025-04-09 11:05",amount:"7,500",currency:"TSHC",status:"Completed",customer:"Tech Solutions Ltd",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xdef0123456789abcdef0123456789abcdef0123"},{id:"0xghi0123456789abcdef0123456789abcdef0123",shortId:"0xghi...789",date:"2025-04-08 16:20",amount:"3,800",currency:"cNGN",status:"Completed",customer:"Sarah Williams",sender:"0x789abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0xghi0123456789abcdef0123456789abcdef0123"},{id:"0xjkl0123456789abcdef0123456789abcdef0123",shortId:"0xjkl...012",date:"2025-04-08 09:45",amount:"4,200",currency:"TSHC",status:"Completed",customer:"Global Traders",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0xjkl0123456789abcdef0123456789abcdef0123"},{id:"0xmno0123456789abcdef0123456789abcdef0123",shortId:"0xmno...345",date:"2025-04-07 14:15",amount:"6,300",currency:"IDRX",status:"Completed",customer:"Local Market",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0xmno0123456789abcdef0123456789abcdef0123"},{id:"0xpqr0123456789abcdef0123456789abcdef0123",shortId:"0xpqr...678",date:"2025-04-07 10:30",amount:"9,100",currency:"TSHC",status:"Completed",customer:"David Miller",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xpqr0123456789abcdef0123456789abcdef0123"},{id:"0xstu0123456789abcdef0123456789abcdef0123",shortId:"0xstu...901",date:"2025-04-06 17:40",amount:"1,800",currency:"cNGN",status:"Completed",customer:"Emma Davis",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xstu0123456789abcdef0123456789abcdef0123"}]},78282:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var s=a(95155),r=a(12115),n=a(58438),l=a(35695),i=a(19182),o=a(31530),d=a(73666),c=a(1505),x=a(11937),m=a(22797),u=a(32502),h=a(64065),b=a(67764);a(43354);let p="neda_pay_transactions",g=()=>{try{let e=localStorage.getItem(p);if(!e)return[];return JSON.parse(e)}catch(e){return console.error("Failed to parse transactions:",e),[]}},f=e=>{try{let t=g();t.unshift(e),localStorage.setItem(p,JSON.stringify(t))}catch(e){console.error("Failed to save transaction:",e)}},w="0xcF77a3Ba9A5CA399B7c97c74d54e5b1Beb874E43",y=[{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"stable",type:"bool"},{internalType:"address",name:"factory",type:"address"}],internalType:"struct IRouter.Route[]",name:"routes",type:"tuple[]"}],name:"getAmountsOut",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"stable",type:"bool"},{internalType:"address",name:"factory",type:"address"}],internalType:"struct IRouter.Route[]",name:"routes",type:"tuple[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"}];async function k(e){let{provider:t,amountIn:a,fromToken:s,toToken:r,stable:n=!0,factory:l}=e,i=new x.NZ(w,y,t);return await i.getAmountsOut(a,[{from:s,to:r,stable:n,factory:l}])}async function v(e){let{signer:t,amountIn:a,amountOutMin:s,fromToken:r,toToken:n,stable:l=!0,factory:i,userAddress:o,deadline:d}=e,c=new x.NZ(w,y,t);return await c.swapExactTokensForTokens(a,s,[{from:r,to:n,stable:l,factory:i}],o,d)}let N=["function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function balanceOf(address owner) view returns (uint256)"];async function j(e){let{token:t,owner:a,spender:s,provider:r}=e,n=new x.NZ(t,N,r);return await n.allowance(a,s)}async function S(e){let{token:t,spender:a,amount:s,signer:r}=e,n=new x.NZ(t,N,r);return await n.approve(a,s)}var C=a(84784);let T=e=>{var t,a,l,i,o,u;let{open:h,fromSymbol:b,onClose:p,onSwap:g,maxAmount:y,onReverse:N}=e;function T(e,t){if(!e.includes("."))return e;let[a,s]=e.split(".");return s.length>t?"".concat(a,".").concat(s.slice(0,t)):e}let{address:E,isConnected:B}=(0,n.F)(),[I,D]=(0,r.useState)(""),[M,A]=(0,r.useState)(""),[L,R]=(0,r.useState)(!1),[F,P]=(0,r.useState)(null),[W,O]=(0,r.useState)(null),[U,_]=(0,r.useState)(null),[H,Z]=(0,r.useState)(null),[z,G]=(0,r.useState)("stable"),J=(0,r.useRef)(!1),V=null==(t=d.yw.find(e=>e.baseToken===b))?void 0:t.address,X=null==(a=d.yw.find(e=>e.baseToken===I))?void 0:a.address,Y=d.yw.find(e=>e.baseToken===b),q=d.yw.find(e=>e.baseToken===I),$=null!=(l=null==Y?void 0:Y.decimals)?l:18,Q=null!=(i=null==q?void 0:q.decimals)?i:18,K="0x420DD381b31aEf6683db6B902084cB0FFECe40Da";(0,r.useEffect)(()=>{if(P(null),O(null),!V||!X||V===X||!M||isNaN(Number(M))||0>=Number(M))return void O("Select two different tokens and enter a valid amount.");(async()=>{try{let e=new c.j(window.ethereum),t=T(M,$),a=m.XS(t,$).toString();if(!a||"0"===a)return void O("Enter a valid amount.");try{let t=await k({provider:e,amountIn:a,fromToken:V,toToken:X,stable:"stable"===z,factory:K});P(m.Js(t[t.length-1],Q))}catch(e){O("No pool exists for this pair or insufficient liquidity.");return}}catch(e){console.error("[Quote] Error fetching quote:",e),O("Unable to fetch quote")}})()},[V,X,M,b,I,K,z,$,Q]);let ee=async()=>{if(_(null),!V||!X||V===X||!E||!M)return void _("Missing or invalid swap details");let e=T(M,$),t=m.XS(e,$).toString(),a=F?T((.995*Number(F)).toFixed(Q),Q):"0",s=F?m.XS(a,Q).toString():"0",r=Math.floor(Date.now()/1e3)+600;try{R(!0),J.current=!0;let e=new c.j(window.ethereum),a=e.getSigner(),n=await j({token:V,owner:E,spender:w,provider:e});if(C.gH.from(n).lt(t)){let e=await S({token:V,spender:w,amount:t,signer:a});await e.wait()}let l=await v({signer:a,amountIn:t,amountOutMin:s,fromToken:V,toToken:X,stable:"stable"===z,factory:K,userAddress:E,deadline:r}),i="swap-".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9));f({id:i,fromToken:b,toToken:I,fromAmount:M,toAmount:F||"0",txHash:l.hash,timestamp:Date.now(),status:"pending",walletAddress:E||""}),await l.wait(),f({id:i,fromToken:b,toToken:I,fromAmount:M,toAmount:F||"0",txHash:l.hash,timestamp:Date.now(),status:"completed",walletAddress:E||""}),R(!1),J.current=!1,Z("Successfully swapped ".concat(M," ").concat(b," to ").concat(F," ").concat(I)),g(b,I,M)}catch(e){_((null==e?void 0:e.reason)||(null==e?void 0:e.message)||"Swap failed"),R(!1),J.current=!1}};(0,r.useEffect)(()=>{D(""),A(""),R(!1),P(null),O(null),_(null),Z(null)},[h,b]);let et=d.yw.filter(e=>e.baseToken!==b),[ea,es]=(0,r.useState)("0"),[er,en]=(0,r.useState)("0");return((0,r.useEffect)(()=>{(async()=>{var e,t;if(!E){es("0"),en("0");return}let a=new c.j(window.ethereum);if(V)try{let t=new x.NZ(V,["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"],a),s=await t.balanceOf(E),r=null!=(e=null==Y?void 0:Y.decimals)?e:18;es(Number(m.Js(s,r)).toLocaleString())}catch(e){es("0")}if(X)try{let e=new x.NZ(X,["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"],a),s=await e.balanceOf(E),r=null!=(t=null==q?void 0:q.decimals)?t:18;en(Number(m.Js(s,r)).toLocaleString())}catch(e){en("0")}})()},[E,V,X,h,b,I]),h)?(0,s.jsx)("div",{className:"swap-modal-container fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm transition-all duration-300",children:(0,s.jsxs)("div",{className:"relative bg-[#181A20] rounded-2xl shadow-2xl w-full max-w-md flex flex-col border border-slate-700 p-0 animate-fadeInScale",children:[(0,s.jsx)("button",{onClick:p,className:"absolute top-4 right-4 text-slate-400 hover:text-blue-400 text-2xl focus:outline-none","aria-label":"Close",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex-1 p-6 text-white space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Swap"}),(0,s.jsxs)("div",{className:"bg-[#23263B] rounded-xl p-4 mb-2 text-white",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-white",children:"Sell"}),(0,s.jsxs)("span",{className:"text-xs text-white",children:["Balance: ",ea," ",b]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:null!=(o=null==Y?void 0:Y.flag)?o:""}),(0,s.jsx)("span",{className:"font-semibold text-white",children:b}),(0,s.jsx)("span",{className:"text-xs text-white",children:null!=(u=null==Y?void 0:Y.name)?u:""})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"number",className:"flex-grow bg-transparent text-white text-5xl font-extrabold outline-none border-none",value:M,onChange:e=>A(e.target.value),max:y,min:"0",placeholder:"0.0",style:{color:"white",fontWeight:800,fontSize:"3rem",lineHeight:1.1,WebkitTextFillColor:"white"}}),(0,s.jsx)("button",{className:"bg-blue-700 text-white px-3 py-1 rounded font-semibold text-xs",onClick:()=>A(y),type:"button",children:"Max"})]}),(0,s.jsxs)("div",{className:"text-xs text-white mt-1",children:["$","0.00"]})]}),(0,s.jsx)("div",{className:"flex justify-center items-center my-2",children:(0,s.jsx)("button",{className:"rounded-full bg-[#23263B] p-2 text-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition","aria-label":"Switch tokens",onClick:()=>{I&&("function"==typeof N&&N(I),D(b),A(F||""),P(null),O(null))},disabled:!I,type:"button",title:"Switch tokens",children:(0,s.jsx)("span",{children:"↓"})})}),(0,s.jsxs)("div",{className:"bg-[#23263B] rounded-xl p-4 mb-2 text-white",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("span",{className:"text-sm text-white",children:"Buy"}),(0,s.jsxs)("span",{className:"text-xs text-white",children:["Balance: ",er," ",I]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3 mb-2",children:(0,s.jsxs)("select",{className:"bg-[#181A20] text-white rounded px-2 py-1 appearance-none",value:I,onChange:e=>D(e.target.value),style:{color:"white",WebkitTextFillColor:"white"},children:[(0,s.jsx)("option",{value:"",style:{color:"white",background:"#23263B"},children:"Select token"}),et.map(e=>{var t;return(0,s.jsxs)("option",{value:e.baseToken,style:{color:"white",background:"#23263B"},children:[null!=(t=e.flag)?t:""," ",e.baseToken," - ",e.name]},e.baseToken)})]})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"flex-grow text-white text-5xl font-extrabold select-text",style:{color:"white !important",fontWeight:800,fontSize:"3rem",lineHeight:1.1,WebkitTextFillColor:"white !important"},children:null!=F?F:"0.0"})}),(0,s.jsxs)("div",{className:"text-xs text-white mt-1",children:["$","0.00"]})]}),(0,s.jsxs)("div",{className:"mb-2 flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Pool Type:"}),(0,s.jsxs)("select",{className:"border rounded px-2 py-1 text-xs bg-[#23263B] text-white border-slate-700 appearance-none",value:z,onChange:e=>G(e.target.value),style:{color:"white",WebkitTextFillColor:"white"},children:[(0,s.jsx)("option",{value:"stable",style:{color:"white",background:"#23263B"},children:"Stable"}),(0,s.jsx)("option",{value:"volatile",style:{color:"white",background:"#23263B"},children:"Volatile"})]})]}),(0,s.jsxs)("div",{className:"bg-[#23263B] rounded-xl p-4 mb-2 space-y-2 text-xs text-white",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Fees"}),(0,s.jsx)("span",{children:"0.05% "})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Exchange rate"}),(0,s.jsxs)("span",{children:["1 ",b," = "," ",F&&M?(Number(F)/Number(M)).toFixed(6):"--"," ",I]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Price impact"}),(0,s.jsxs)("span",{children:[" ","0.77%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Minimum received"}),(0,s.jsxs)("span",{children:[F?(.995*Number(F)).toFixed(Q):"--"," ",I]})]})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 mt-4",children:[(0,s.jsx)("button",{className:"flex-1 px-4 py-2 rounded bg-gray-700 text-white font-semibold hover:bg-gray-600",onClick:()=>window.location.reload(),type:"button",children:"Refresh"}),(0,s.jsx)("button",{className:"flex-1 px-4 py-2 rounded bg-blue-600 text-white font-bold text-lg shadow-md hover:bg-blue-700 transition disabled:opacity-60",onClick:ee,disabled:L||!M||!I||!F,type:"button",children:L?"Swapping...":"Swap"})]}),U&&(0,s.jsx)("div",{className:"mt-4 text-red-500 text-center text-sm",children:U}),H&&(0,s.jsx)("div",{className:"mt-4 text-green-500 text-center text-sm font-semibold",children:H})]})]})}):null};u.t1.register(u.PP,u.kc,u.FN,u.No,u.E8,u.hE,u.m_,u.s$,u.Bs);let E=(e,t)=>{let a=d.yw.map(a=>{let s="0";return t&&a.chainId!==t||(s=e[a.baseToken]||"0"),{symbol:a.baseToken,name:a.name,balance:s,flag:a.flag||"\uD83C\uDF10",region:a.region||"Unknown"}}),s=a.reduce((e,t)=>e+parseInt(t.balance.replace(/,/g,"")),0),r=a.map(e=>({...e,percentage:s>0?Math.round(parseInt(e.balance.replace(/,/g,""))/s*100):0}));return{processedBalances:d.yw.map(e=>{let t=a.find(t=>t.symbol===e.baseToken);return t||{symbol:e.baseToken,name:e.name,balance:"0",flag:e.flag||"\uD83C\uDF10",region:e.region||"Unknown"}}),totalReceived:s.toLocaleString(),processedStablecoins:r}},B=async(e,t,a)=>{if(e){a(!0);try{let a=await fetch("/api/transactions?merchantId=".concat(e));if(!a.ok)throw Error("Failed to fetch transactions");let s=(await a.json()).map(e=>({id:e.txHash,shortId:e.txHash.slice(0,6)+"..."+e.txHash.slice(-4),date:new Date(e.createdAt).toISOString().replace("T"," ").slice(0,16),amount:e.amount.toString(),currency:e.currency,status:e.status,sender:e.wallet,senderShort:e.wallet.slice(0,6)+"..."+e.wallet.slice(-4),blockExplorerUrl:"https://basescan.org/tx/".concat(e.txHash)}));t(s)}catch(e){console.error("Error fetching transactions from DB:",e),t([])}finally{a(!1)}}},I=e=>{let t={};e.forEach(e=>{let a=e.currency;if(!t[a]){let e=d.yw.find(e=>e.baseToken===a);t[a]={count:0,flag:(null==e?void 0:e.flag)||"\uD83C\uDF10"}}t[a].count++});let a=Object.entries(t).filter(e=>{let[t,a]=e;return a.count>0}),s=a.map(e=>{let[t]=e;return t}),r=a.map(e=>{let[t,a]=e;return a.count}),n=["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(139, 92, 246, 0.8)","rgba(239, 68, 68, 0.8)"],l=s.map((e,t)=>n[t%n.length]);return{labels:s,datasets:[{label:"Payment Methods",data:r,backgroundColor:l,borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(139, 92, 246, 1)","rgba(239, 68, 68, 1)"],borderWidth:1}]}};function D(){let[e,t]=(0,r.useState)("eoa"),[u,p]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),{address:w,isConnected:y,connector:k}=(0,n.F)(),v="eoa"===e?w:u&&u!==w?u:void 0,[N,j]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[D,M]=(0,r.useState)(!1),[A,L]=(0,r.useState)({}),[R,F]=(0,r.useState)(!1),[P,W]=(0,r.useState)({}),[O,U]=(0,r.useState)(!1),[_,H]=(0,r.useState)(""),[Z,z]=(0,r.useState)([]),[G,J]=(0,r.useState)(!1),[V,X]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(null);if(v){var $;let n=function(e){if(!e||"string"!=typeof e)throw Error("Invalid address provided");return e.startsWith("0x")?e:"0x".concat(e)}(v);(async function(){let e=await (0,b.hA)(n);if(void 0===e)throw Error("failed to resolve address to name");return e})().then(e=>q(e)).catch(e=>console.error("Error fetching base name:",e)),console.log("Base Name:",Y);let{processedBalances:w}=E(P),D=e=>{H(e),U(!0)},A=(0,l.useRouter)();(0,r.useEffect)(()=>{F(!0)},[]),(0,r.useEffect)(()=>{!async function(){if("smart"!==e||!n)return p(null);f(!0);let t="smartWallet_".concat(n);{let e=localStorage.getItem(t);if(e)try{let t=JSON.parse(e);if(t&&t.address){t.address,p(t.address),f(!1);return}}catch(e){}}try{let{getSmartWalletAddress:e}=await Promise.resolve().then(a.bind(a,43178)),{ethers:s}=await a.e(6775).then(a.bind(a,96775)),r=new s.providers.JsonRpcProvider("https://mainnet.base.org"),l=await e(n,0,r);p(l),localStorage.setItem(t,JSON.stringify({address:l}))}catch(e){p(null),console.error("Failed to fetch smart wallet address",e)}f(!1)}()},[n,e]),(0,r.useEffect)(()=>{y&&("eoa"===e&&n&&k||"smart"===e&&u&&u!==n&&k)&&Q(v)},[y,v,k,e,u,n]),(0,r.useEffect)(()=>{y&&v&&B(v,z,J)},[y,v]),(0,r.useEffect)(()=>{if(!y||!v)return;let e=[],t=!1;return(async()=>{let s=(await a.e(6775).then(a.bind(a,96775))).ethers,r=new s.providers.JsonRpcProvider("https://mainnet.base.org"),n=["event Transfer(address indexed from, address indexed to, uint256 value)","function decimals() view returns (uint8)","function symbol() view returns (string)"];for(let a of d.yw.filter(e=>8453===e.chainId&&e.address&&/^0x[a-fA-F0-9]{40}$/.test(e.address)))try{let l=new s.Contract(a.address,n,r),i=await l.decimals(),d=a.baseToken,c=async(e,a,r,n)=>{if(!t&&a.toLowerCase()===v.toLowerCase()){let t=n.transactionHash,a=await fetch("/api/transactions?merchantId=".concat(v)),l=a.ok?await a.json():[];if(!new Set(l.map(e=>e.txHash)).has(t)){await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchantId:v,wallet:e,amount:parseFloat(s.utils.formatUnits(r,i)),currency:d,status:"Completed",txHash:t})});let a=e.slice(0,6)+"..."+e.slice(-4);o.oR.success("Payment received: ".concat(parseFloat(s.utils.formatUnits(r,i))," ").concat(d," from ").concat(a)),B(v,z,J)}}};l.on("Transfer",c),e.push(()=>l.off("Transfer",c))}catch(e){}})(),()=>{t=!0,e.forEach(e=>e())}},[y,v]);let V=["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)"],Q=async e=>{let t=[];try{let a;if(X(!0),window.ethereum){a=new c.j(window.ethereum);let e=await a.getNetwork();if(8453!==e.chainId){C(!0),X(!1),t=[];return}C(!1),t=d.yw.filter(t=>t.chainId===e.chainId)}else throw Error("No wallet provider found");let s={},r=!1,n={};for(let l of t)try{let t=new x.NZ(l.address,V,a),i="0",o=18;try{[i,o]=await Promise.all([t.balanceOf(e),t.decimals()])}catch(e){console.warn("Could not fetch balance/decimals for ".concat(l.baseToken,":"),null==e?void 0:e.message),n[l.baseToken]=(null==e?void 0:e.message)||"Error fetching balance",r=!0}let d="0";try{d=m.Js(i,o)}catch(e){}s[l.baseToken]=parseFloat(d).toLocaleString()}catch(e){}M(r),L(n),W(s)}catch(e){console.error("Error fetching balances:",e)}finally{X(!1)}};return R?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Toaster,{position:"top-right"}),(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-blue-50 to-white dark:bg-gray-900 dark:text-white",children:[(0,s.jsx)(i.A,{}),(0,s.jsxs)("div",{className:"flex gap-4 mb-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg border font-semibold ".concat("eoa"===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"),onClick:()=>t("eoa"),children:"EOA Wallet"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg border font-semibold ".concat("smart"===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"),onClick:()=>t("smart"),children:"Smart Wallet"})]}),(0,s.jsx)("div",{className:"my-4",children:(0,s.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 px-3 py-1 border border-gray-300 dark:border-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-sm font-medium",children:[(0,s.jsx)("span",{"aria-hidden":"true",children:"←"})," Back"]})}),S&&(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative m-4",children:[(0,s.jsx)("strong",{className:"font-bold",children:"Network Error:"}),(0,s.jsxs)("span",{className:"block sm:inline",children:[" Please switch your wallet to ",(0,s.jsx)("b",{children:"Base Mainnet"})," (chainId 8453) to view your balances."]})]}),(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-6xl px-4 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2 text-slate-800 dark:text-slate-100",children:"Merchant Dashboard"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-base",children:"Manage your stablecoin payments and track business performance"}),(0,s.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 rounded-lg shadow-lg transform transition-all duration-500 hover:scale-102 hover:shadow-xl",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("h2",{className:"text-white text-xl font-bold mb-2 animate-fadeIn",children:[(()=>{let e=new Date().getHours();return e<12?"☀️ Good Morning":e<18?"\uD83C\uDF24️ Good Afternoon":"\uD83C\uDF19 Good Evening"})()," ",Y||"".concat((null!=v?v:"").substring(0,6),"...")]}),(0,s.jsx)("p",{className:"text-white text-opacity-90 animate-fadeIn animation-delay-200",children:(()=>{let e=["Today is a great day to grow your business with NEDA Pay!","Your dashboard is looking great! Ready to accept more payments?","Crypto payments made simple - that's the NEDA Pay promise!","Need help? We're just a click away to support your business journey.","Your success is our success. Let's make today count!"];return e[Math.floor(Math.random()*e.length)]})()}),(0,s.jsxs)("div",{className:"mt-3 flex space-x-3 animate-fadeIn animation-delay-300",children:[(0,s.jsx)("button",{onClick:()=>A.push("/payment-link"),className:"px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-md text-sm font-medium transition-all duration-200",children:"Create Payment Link"}),(0,s.jsx)("button",{onClick:()=>A.push("/settings"),className:"px-4 py-2 bg-white bg-opacity-10 hover:bg-opacity-20 text-white rounded-md text-sm font-medium transition-all duration-200",children:"Customize Dashboard"})]})]}),(0,s.jsx)("div",{className:"hidden md:block animate-pulse",children:(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-white bg-opacity-20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCB0"})})})]})})]}),(0,s.jsxs)("div",{className:"bg-primary dark:bg-primary-dark border border-primary-light dark:border-blue-800 rounded-xl p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"smart"===e?"Smart Wallet Connected":"EOA Wallet Connected"}),(0,s.jsx)("p",{className:"text-white mb-4",children:"smart"===e?"You're using a smart wallet for enhanced security and lower fees":"You're using your externally owned account (EOA) wallet"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:"smart"===e?"Smart Wallet Address:":"EOA Wallet Address:"}),(0,s.jsxs)("div",{className:"text-sm text-white/90",children:["smart"===e&&g&&(0,s.jsx)("span",{children:"Loading smart wallet address..."}),"smart"===e&&!g&&(!u||u===n)&&(0,s.jsx)("span",{className:"text-yellow-200",children:"Smart wallet address not found. Please create or connect your smart wallet."}),"smart"===e&&!g&&u&&u!==n&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2",children:["".concat(u.substring(0,10),"...").concat(u.substring(u.length-8)),(0,s.jsx)("button",{className:"ml-1 px-2 py-0.5 rounded bg-slate-600 text-xs text-white hover:bg-slate-800 focus:outline-none",onClick:()=>{navigator.clipboard.writeText(u),j(!0),setTimeout(()=>j(!1),1200)},title:"Copy address",children:N?"Copied!":"Copy"})]}),"smart"!==e&&v&&(0,s.jsxs)("span",{className:"inline-flex items-center gap-2",children:["".concat(v.substring(0,10),"...").concat(v.substring(v.length-8)),(0,s.jsx)("button",{className:"ml-1 px-2 py-0.5 rounded bg-slate-600 text-xs text-white hover:bg-slate-800 focus:outline-none",onClick:()=>{navigator.clipboard.writeText(v),j(!0),setTimeout(()=>j(!1),1200)},title:"Copy address",children:N?"Copied!":"Copy"})]}),"smart"!==e&&!v&&"Not Connected"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-1 font-semibold",children:"Total Received"}),(0,s.jsx)("div",{className:"flex flex-col gap-1 text-2xl font-bold text-slate-900 dark:text-white",children:(()=>{let e=E(P).processedBalances.filter(e=>parseFloat(e.balance.replace(/,/g,""))>0);return e.length?e.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.flag}),(0,s.jsx)("span",{className:"font-semibold",children:e.balance}),(0,s.jsx)("span",{className:"ml-1",children:e.symbol})]},e.symbol)):"0"})()})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-1 font-semibold",children:"Total Transactions"}),(0,s.jsx)("div",{className:"flex flex-col gap-1 text-2xl font-bold text-slate-900 dark:text-white",children:(()=>{let e={};Z.forEach(t=>{let a=t.currency;if(!e[a]){let t=d.yw.find(e=>e.baseToken===a);e[a]={count:0,flag:(null==t?void 0:t.flag)||"\uD83C\uDF10"}}e[a].count++});let t=Object.entries(e).filter(e=>{let[t,a]=e;return a.count>0});return t.length?t.map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:a.flag}),(0,s.jsx)("span",{className:"font-semibold",children:a.count.toLocaleString()}),(0,s.jsx)("span",{className:"ml-1",children:t})]},t)}):"0"})()})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-1 font-semibold",children:"Average Transaction"}),(0,s.jsx)("div",{className:"flex flex-col gap-1 text-2xl font-bold text-slate-900 dark:text-white",children:(()=>{let e={};Z.forEach(t=>{let a=t.currency;if(!e[a]){let t=d.yw.find(e=>e.baseToken===a);e[a]={sum:0,count:0,flag:(null==t?void 0:t.flag)||"\uD83C\uDF10"}}e[a].sum+=parseFloat((t.amount||"0").replace(/,/g,""))||0,e[a].count++});let t=Object.entries(e).filter(e=>{let[t,a]=e;return a.count>0});return t.length?t.map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:a.flag}),(0,s.jsx)("span",{className:"font-semibold",children:Math.round(a.sum/a.count).toLocaleString()}),(0,s.jsx)("span",{className:"ml-1",children:t})]},t)}):"0"})()})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-1 font-semibold",children:"Monthly Growth"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:(()=>{let e=new Date,t=e.getMonth(),a=e.getFullYear(),s=0===t?11:t-1,r=0===t?a-1:a,n=0,l=0;if(Z.forEach(e=>{let i=new Date(e.date),o=parseFloat((e.amount||"0").replace(/,/g,""))||0;i.getFullYear()===a&&i.getMonth()===t?n+=o:i.getFullYear()===r&&i.getMonth()===s&&(l+=o)}),0===l&&0===n)return"N/A";if(0===l)return"+100%";let i=(n-l)/l*100,o=i>=0?"+":"";return"".concat(o).concat(i.toFixed(1),"%")})()})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-1 font-semibold",children:"Payment Methods"}),(0,s.jsx)("div",{className:"flex flex-col gap-1 text-2xl font-bold text-slate-900 dark:text-white",children:(()=>{let e=Array.from(new Set(Z.map(e=>e.currency)));return e.length?e.map(e=>{let t=d.yw.find(t=>t.baseToken===e);return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:(null==t?void 0:t.flag)||"\uD83C\uDF10"}),(0,s.jsx)("span",{className:"font-semibold",children:e})]},e)}):"None"})()})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Daily Revenue"}),(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(h.N1,{data:function(e){let t=new Set,a=Array.from(new Set(e.map(e=>e.currency)));e.forEach(e=>{let a=e.date.split("T")[0];t.add(a)});let s=Array.from(t).sort(),r=a.map(t=>{let a=d.yw.find(e=>e.baseToken===t),r=(null==a?void 0:a.flag)||"\uD83C\uDF10";return{label:"".concat(r," ").concat(t),data:s.map(a=>e.filter(e=>e.currency===t&&e.date.startsWith(a)).reduce((e,t)=>e+(parseFloat((t.amount||"0").replace(/,/g,""))||0),0)),fill:!1,tension:.2}});return{labels:s,datasets:r}}(Z),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{color:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#9ca3af":"#4b5563"}},x:{grid:{display:!1},ticks:{color:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#9ca3af":"#4b5563"}}},plugins:{legend:{labels:{color:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#fff":"#222",usePointStyle:!1,generateLabels:e=>{let{datasets:t}=e.data;return t&&t.length?t.map((t,a)=>{let s=t.label||"",r=s.match(/^(\S+)\s+(.+)$/),n="",l="";return r?(n=r[1],l=r[2]):l=s,{text:"".concat(n," ").concat(l).trim(),hidden:!1===e.isDatasetVisible(a),index:a}}):[]}}},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"",a=t.match(/^(\S+)\s+(.+)$/),s="",r="";return a?(s=a[1],r=a[2]):r=t,"".concat(s," ").concat(r,": ").concat(e.parsed.y.toLocaleString())}}}}}})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Payment Methods"}),(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(h.nu,{data:I(Z),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"#9ca3af":"#4b5563",padding:20,font:{size:12}}}}}})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-all duration-300 transform hover:shadow-xl",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30",children:(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Recent Transactions"]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[(0,s.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Tx Hash"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Sender"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Amount"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Status"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:G?[,,,,,].fill(0).map((e,t)=>(0,s.jsxs)("tr",{className:"animate-pulse",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 w-24 bg-slate-200 dark:bg-slate-700 rounded relative overflow-hidden",children:(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 w-20 bg-slate-200 dark:bg-slate-700 rounded relative overflow-hidden",children:(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 w-28 bg-slate-200 dark:bg-slate-700 rounded relative overflow-hidden",children:(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 w-20 bg-slate-200 dark:bg-slate-700 rounded relative overflow-hidden",children:(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 w-16 bg-slate-200 dark:bg-slate-700 rounded relative overflow-hidden",children:(0,s.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})})})]},"loading-".concat(t))):0===Z.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500 dark:text-gray-400",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,s.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,s.jsx)("p",{children:"No transactions found"}),(0,s.jsx)("button",{onClick:()=>A.push("/payment-link"),className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Payment Link"})]})})}):Z.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors duration-150 ".concat(t%2==0?"bg-white dark:bg-gray-800":"bg-slate-50 dark:bg-gray-750"),children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("a",{href:e.blockExplorerUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium flex items-center",children:[(0,s.jsxs)("span",{className:"mr-1.5 text-xs bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300 py-1 px-2 rounded-md",children:[(0,s.jsx)("svg",{className:"w-3 h-3 inline mr-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Tx"]}),e.shortId]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("a",{href:"https://basescan.org/address/".concat(e.sender),target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium flex items-center",children:[(0,s.jsx)("span",{className:"inline-block w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300 mr-2 flex items-center justify-center text-xs",children:(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.senderShort]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-slate-800 dark:text-slate-200",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-slate-500 dark:text-slate-400 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.date]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm font-medium",children:[(0,s.jsx)("span",{className:"text-green-600 dark:text-green-400 font-bold",children:e.amount}),(0,s.jsx)("span",{className:"ml-1.5 text-xs px-2 py-1 rounded-md bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:e.currency})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"px-3 py-1.5 inline-flex items-center text-xs font-medium rounded-full ".concat("Completed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-800":"Pending"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 border border-yellow-200 dark:border-yellow-800":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800"),children:[(0,s.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:"Completed"===e.status?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):"Pending"===e.status?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.status]})})]},e.id))})]})}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gradient-to-r from-indigo-50/50 to-purple-50/50 dark:from-indigo-900/20 dark:to-purple-900/20",children:(0,s.jsx)("div",{className:"flex justify-center mt-2",children:(0,s.jsxs)("a",{href:"/transactions",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-indigo-700 dark:text-indigo-300 bg-indigo-100 dark:bg-indigo-900/30 rounded-md hover:bg-indigo-200 dark:hover:bg-indigo-800/40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"View All Transactions"]})})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-all duration-300 transform hover:shadow-xl",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30",children:(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Stablecoin Balances"]})}),(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Coin"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Balance"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Action"})]})}),(0,s.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:w.map((e,t)=>{let a=parseFloat(String(e.balance).replace(/,/g,""))>0;return(0,s.jsxs)("tr",{className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-150 ".concat(t%2==0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-750"),children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-8 w-8 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/30 text-lg",children:e.flag}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.symbol}),(0,s.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.name})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-semibold ".concat(a?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"),children:e.balance})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("button",{className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm bg-blue-500 text-white hover:bg-blue-600 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>a&&D(e.symbol),disabled:!a,title:a?"Swap ".concat(e.symbol):"No ".concat(e.symbol," balance to swap"),children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Swap"]})})]},e.symbol)})})]})})})]}),(0,s.jsx)(T,{open:O,fromSymbol:_,onClose:()=>U(!1),onSwap:(e,t,a)=>{U(!1),o.oR.success("Swap successful! ".concat(a," ").concat(e," swapped to ").concat(t,"."))},maxAmount:(null==($=w.find(e=>e.symbol===_))?void 0:$.balance)||"0"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-6 text-gray-900 dark:text-white",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("button",{onClick:()=>{document.cookie="wallet_connected=true; path=/; max-age=86400",setTimeout(()=>{window.location.href="/payment-link"},100)},className:"p-4 w-full bg-gray-100 dark:bg-blue-900/30 rounded-lg border border-blue-300 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition",children:[(0,s.jsx)("h3",{className:"font-bold text-blue-900 dark:text-blue-300",children:"Create Payment Link"}),(0,s.jsx)("p",{className:"text-sm text-blue-900 dark:text-blue-400 mt-1 font-medium",children:"Generate a payment link to share with customers"})]}),(0,s.jsxs)("button",{onClick:()=>A.push("/invoice"),className:"p-4 w-full bg-gray-100 dark:bg-green-900/30 rounded-lg border border-green-300 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/50 transition",children:[(0,s.jsx)("h3",{className:"font-bold text-green-900 dark:text-green-300",children:"Generate Invoice"}),(0,s.jsx)("p",{className:"text-sm text-green-900 dark:text-green-400 mt-1 font-medium",children:"Send an invoice to your customer for payment"})]}),(0,s.jsxs)("button",{onClick:()=>A.push("/analytics"),className:"p-4 w-full bg-gray-100 dark:bg-purple-900/30 rounded-lg border border-purple-300 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/50 transition",children:[(0,s.jsx)("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"View Analytics"}),(0,s.jsx)("p",{className:"text-sm text-purple-900 dark:text-purple-400 mt-1 font-medium",children:"Detailed reports and business insights"})]})]})]})]})})]})]}):null}}},86699:(e,t,a)=>{Promise.resolve().then(a.bind(a,78282))}},e=>{var t=t=>e(e.s=t);e.O(0,[1435,6711,5647,2437,6874,9697,7815,7607,5909,7895,6445,8441,1684,7358],()=>t(86699)),_N_E=e.O()}]);