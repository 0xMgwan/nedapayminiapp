(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2874],{16203:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(95155),s=a(12115),n=a(19182),d=a(58438),c=a(73666);function i(){let{isConnected:e,address:t}=(0,d.F)(),a=()=>{if(t&&t.length>10)return t;{let e=localStorage.getItem("walletAddress");if(e&&e.length>10)return e}return""},[i,o]=(0,s.useState)(!1),[l,x]=(0,s.useState)(""),[m,b]=(0,s.useState)("TSHC"),[u,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1),[k,w]=(0,s.useState)(!1),[N,C]=(0,s.useState)([]);(0,s.useEffect)(()=>{o(!0),console.log("Payment Link Page - Loading, isConnected:",e),(async()=>{let e=a();if(e)try{let t=await fetch("/api/payment-links?merchantId=".concat(e));if(t.ok){let e=await t.json();C(e.map(e=>({id:e.id,createdAt:new Date(e.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),amount:e.amount,currency:e.currency,status:e.status,url:e.url,description:e.description})))}else C([])}catch(e){console.error("Error fetching payment links:",e),C([])}})(),w(!0),document.cookie="wallet_connected=true; path=/; max-age=86400";let t=()=>{console.log("Payment Link Page - Before unload event fired")};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e,t]),(0,s.useEffect)(()=>{k&&(console.log("Payment Link Page - Connection state changed, isConnected:",e),document.cookie="wallet_connected=true; path=/; max-age=86400")},[e,k]);let j=async e=>{if(e.preventDefault(),e.stopPropagation(),console.log("Generating payment link via API..."),!l||0>=parseFloat(l))return void alert("Please enter a valid amount");let t=a();if(!t)return void alert("Wallet address not found. Please connect your wallet.");let r=Math.random().toString(36).substring(2,10),s=window.location.origin,n="".concat(s,"/pay/").concat(r,"?amount=").concat(l,"&currency=").concat(m,"&to=").concat(t);try{let e=await fetch("/api/payment-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchantId:t,url:n,amount:l,currency:m,description:u||void 0,status:"Active"})});if(e.ok){let t=await e.json();f(n),C(e=>[{id:t.id,createdAt:new Date(t.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),amount:t.amount,currency:t.currency,status:t.status,url:t.url,description:t.description},...e])}else{let t=await e.json();alert("Error creating payment link: ".concat(t.error))}}catch(e){console.error("Error creating payment link:",e),alert("Failed to create payment link. Please try again.")}document.cookie="wallet_connected=true; path=/; max-age=86400"};return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-blue-50 to-white dark:bg-gray-900 dark:text-white",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("div",{className:"my-4",children:(0,r.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 px-3 py-1 border border-gray-300 dark:border-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-sm font-medium",children:[(0,r.jsx)("span",{"aria-hidden":"true",children:"←"})," Back"]})}),(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsxs)("div",{className:"container mx-auto max-w-6xl px-4 py-12",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2 text-slate-800 dark:text-slate-100",children:"Create Payment Link"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-base mb-2",children:"Generate a payment link to share with your customers"}),i&&(0,r.jsxs)("div",{className:"rounded-md px-4 py-2 mt-2 text-sm ".concat(a()?"bg-green-50 text-green-900 border border-green-200":"bg-yellow-50 text-yellow-900 border border-yellow-300"),children:[(0,r.jsx)("strong",{children:"Merchant Wallet Address:"}),(0,r.jsx)("span",{className:"ml-2 font-mono break-all",children:a()||"No wallet connected. Please connect your wallet."})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 shadow-lg mb-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount"}),(0,r.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:(0,r.jsx)("input",{type:"number",name:"amount",id:"amount",required:!0,value:l,onChange:e=>x(e.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-md border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-primary focus:border-primary",placeholder:"0.00"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Currency"}),(0,r.jsx)("select",{id:"currency",name:"currency",value:m,onChange:e=>b(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-primary focus:border-primary rounded-md",children:c.yw.map(e=>(0,r.jsxs)("option",{value:e.baseToken,children:[e.baseToken," - ",e.name||e.currency||e.region]},e.baseToken))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("textarea",{id:"description",name:"description",rows:3,value:u,onChange:e=>h(e.target.value),className:"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md",placeholder:"Payment for services"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("form",{onSubmit:j,children:(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Generate Payment Link"})})})]}),p&&(0,r.jsxs)("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Your Payment Link"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"text",readOnly:!0,value:p,className:"flex-1 p-2 border border-slate-300 dark:border-slate-600 dark:bg-slate-800 rounded-l-md text-sm text-slate-900 dark:text-white"}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(p),y(!0),setTimeout(()=>y(!1),2e3)},className:"bg-slate-200 text-black px-4 py-2 rounded-r-md hover:bg-slate-300",children:g?"Copied!":"Copy"})]}),(0,r.jsx)("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:"Share this link with your customers to receive payments."})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg mt-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-slate-800 dark:text-white mb-4",children:"Recent Payment Links"}),(0,r.jsx)("div",{className:"force-white-text overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[(0,r.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Date Created"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Amount"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Currency"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:0===N.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"text-center py-4 text-slate-500",colSpan:5,children:"No payment links yet."})}):N.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.createdAt}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.amount}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.currency}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"View"})})]},e.id))})]})})]})]})})]})}},73666:(e,t,a)=>{"use strict";a.d(t,{_V:()=>n,aV:()=>s,yw:()=>r});let r=[{region:"Tanzania",flag:"\uD83C\uDDF9\uD83C\uDDFF",currency:"TZS",baseToken:"TSHC",name:"Tanzania Shilling Coin",address:"0x123456789abcdef123456789abcdef123456789a",issuer:"NEDA Pay",description:"Stablecoin pegged 1:1 to the Tanzania Shilling (TZS)",website:"https://nedapay.app",chainId:0xaa36a7},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"cNGN",name:"Nigerian Naira Coin",address:"0x46C85152bFe9f96829aA94755D9f915F9B10EF5F",issuer:"Convexity",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453,decimals:6},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"NGNC",decimals:18,name:"Nigerian Naira Coin",address:"0xe743f13623e000261b634f0e5676f294475ec24d",issuer:"Link",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453},{region:"South Africa",flag:"\uD83C\uDDFF\uD83C\uDDE6",currency:"ZAR",baseToken:"ZARP",decimals:18,name:"South African Rand Coin",address:"0xb755506531786C8aC63B756BaB1ac387bACB0C04",issuer:"inv.es",description:"Stablecoin pegged 1:1 to the South African Rand (ZAR)",website:"https://stablecoins.earth",chainId:8453},{region:"Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9",currency:"IDR",baseToken:"IDRX",name:"Indonesian Rupiah Coin",address:"0x18Bc5bcC660cf2B9cE3cd51a404aFe1a0cBD3C22",issuer:"IDRX.co",description:"Stablecoin pegged 1:1 to the Indonesian Rupiah (IDR)",website:"https://stablecoins.earth",chainId:8453,decimals:2},{region:"Europe",flag:"\uD83C\uDDEA\uD83C\uDDFA",currency:"EUR",baseToken:"EURC",decimals:6,name:"Euro Coin",address:"0x60a3e35cc302bfa44cb288bc5a4f316fdb1adb42",issuer:"Circle",description:"Stablecoin pegged 1:1 to the Euro (EUR)",website:"https://stablecoins.earth",chainId:8453},{region:"Canada",flag:"\uD83C\uDDE8\uD83C\uDDE6",currency:"CAD",baseToken:"CADC",decimals:18,name:"Canadian Dollar Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"PayTrie",description:"Stablecoin pegged 1:1 to the Canadian Dollar (CAD)",website:"https://stablecoins.earth",chainId:8453},{region:"Brazil",flag:"\uD83C\uDDE7\uD83C\uDDF7",currency:"BRL",baseToken:"BRL",decimals:18,name:"Brazilian Real Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Transfero",description:"Stablecoin pegged 1:1 to the Brazilian Real (BRL)",website:"https://stablecoins.earth",chainId:8453},{region:"Turkey",flag:"\uD83C\uDDF9\uD83C\uDDF7",currency:"TRY",baseToken:"TRYB",decimals:6,name:"Turkish Lira Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"BiLira",description:"Stablecoin pegged 1:1 to the Turkish Lira (TRY)",website:"https://stablecoins.earth",chainId:8453},{region:"New Zealand",flag:"\uD83C\uDDF3\uD83C\uDDFF",currency:"NZD",baseToken:"NZDD",decimals:6,name:"New Zealand Dollar Coin",address:"0x2dD087589ce9C5b2D1b42e20d2519B3c8cF022b7",issuer:"Easy Crypto",description:"Stablecoin pegged 1:1 to the New Zealand Dollar (NZD)",website:"https://stablecoins.earth",chainId:8453},{region:"Mexico",flag:"\uD83C\uDDF2\uD83C\uDDFD",currency:"MXN",baseToken:"MXNe",decimals:6,name:"Mexican Peso Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Etherfuse/Brale",description:"Stablecoin pegged 1:1 to the Mexican Peso (MXN)",website:"https://stablecoins.earth",decimals:6},{region:"United States",flag:"\uD83C\uDDFA\uD83C\uDDF8",currency:"USD",baseToken:"USDC",name:"USD Coin",address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",issuer:"Circle",description:"USD-backed stablecoin by Circle (Base Mainnet)",website:"https://www.circle.com/usdc",chainId:8453,decimals:6}],s={TSHC:"25,000",cNGN:"8,500",IDRX:"12,000"},n=[{id:"0x123abc456def789ghi0123456789abcdef0123",shortId:"0x123...abc",date:"2025-04-11 10:23",amount:"5,000",currency:"TSHC",status:"Completed",customer:"John Doe",sender:"0x7890abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0x123abc456def789ghi0123456789abcdef0123"},{id:"0x456def789ghi0123456789abcdef0123456789",shortId:"0x456...def",date:"2025-04-10 15:45",amount:"2,500",currency:"cNGN",status:"Completed",customer:"Jane Smith",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0x456def789ghi0123456789abcdef0123456789"},{id:"0x789ghi0123456789abcdef0123456789abcdef",shortId:"0x789...ghi",date:"2025-04-10 09:12",amount:"10,000",currency:"TSHC",status:"Completed",customer:"Acme Corp",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0x789ghi0123456789abcdef0123456789abcdef"},{id:"0xabc0123456789abcdef0123456789abcdef0123",shortId:"0xabc...123",date:"2025-04-09 14:30",amount:"1,200",currency:"IDRX",status:"Completed",customer:"Bob Johnson",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xabc0123456789abcdef0123456789abcdef0123"},{id:"0xdef0123456789abcdef0123456789abcdef0123",shortId:"0xdef...456",date:"2025-04-09 11:05",amount:"7,500",currency:"TSHC",status:"Completed",customer:"Tech Solutions Ltd",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xdef0123456789abcdef0123456789abcdef0123"},{id:"0xghi0123456789abcdef0123456789abcdef0123",shortId:"0xghi...789",date:"2025-04-08 16:20",amount:"3,800",currency:"cNGN",status:"Completed",customer:"Sarah Williams",sender:"0x789abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0xghi0123456789abcdef0123456789abcdef0123"},{id:"0xjkl0123456789abcdef0123456789abcdef0123",shortId:"0xjkl...012",date:"2025-04-08 09:45",amount:"4,200",currency:"TSHC",status:"Completed",customer:"Global Traders",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0xjkl0123456789abcdef0123456789abcdef0123"},{id:"0xmno0123456789abcdef0123456789abcdef0123",shortId:"0xmno...345",date:"2025-04-07 14:15",amount:"6,300",currency:"IDRX",status:"Completed",customer:"Local Market",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0xmno0123456789abcdef0123456789abcdef0123"},{id:"0xpqr0123456789abcdef0123456789abcdef0123",shortId:"0xpqr...678",date:"2025-04-07 10:30",amount:"9,100",currency:"TSHC",status:"Completed",customer:"David Miller",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xpqr0123456789abcdef0123456789abcdef0123"},{id:"0xstu0123456789abcdef0123456789abcdef0123",shortId:"0xstu...901",date:"2025-04-06 17:40",amount:"1,800",currency:"cNGN",status:"Completed",customer:"Emma Davis",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xstu0123456789abcdef0123456789abcdef0123"}]},91266:(e,t,a)=>{Promise.resolve().then(a.bind(a,16203))}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,2437,6874,9697,7815,7607,5909,6445,8441,1684,7358],()=>t(91266)),_N_E=e.O()}]);