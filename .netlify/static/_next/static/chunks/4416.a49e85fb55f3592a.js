"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4416],{4416:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var a=r(95155),n=r(12115),i=r(1505),s=r(11937),o=r(55028),d=r(73666),l=r(68652),c=r(22797);let u=(0,o.default)(()=>r.e(414).then(r.bind(r,60414)),{loadableGenerated:{webpack:()=>[60414]},ssr:!1});function f(e){let{to:t,amount:r,currency:o}=e,[f,h]=(0,n.useState)(null),[m,b]=(0,n.useState)(null),[g,x]=(0,n.useState)(!1),p=async()=>{b(null),x(!0),h(null);try{let e,a=!1;try{a=!!t&&l.PW(t)}catch(e){a=!1}if(!a){b("Invalid merchant address. Please check the payment link."),x(!1);return}if(!r||isNaN(Number(r))||0>=Number(r)){b("Invalid amount."),x(!1);return}if(!window.ethereum){b(null),x(!1);return}await window.ethereum.request({method:"eth_requestAccounts"});let n=new i.j(window.ethereum).getSigner(),u=await n.getAddress(),f=d.yw.find(e=>e.baseToken.toLowerCase()===(null==o?void 0:o.toLowerCase())||e.currency.toLowerCase()===(null==o?void 0:o.toLowerCase()));if(f&&f.address&&"0x0000000000000000000000000000000000000000"!==f.address){let a,i=new s.NZ(f.address,["function transfer(address to, uint256 amount) public returns (bool)","function decimals() public view returns (uint8)"],n),o=18;try{o=await i.decimals()}catch(e){o=18}try{a=c.XS(r,o)}catch(e){b("Invalid amount format."),x(!1);return}e=await i.transfer(t,a)}else{let a;try{a=c.g5(r)}catch(e){b("Invalid amount format."),x(!1);return}e=await n.sendTransaction({to:t,value:a})}h(e.hash),await e.wait();try{let a=await fetch("/api/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchantId:t,wallet:u,amount:r,currency:o,status:"Completed",txHash:e.hash})});if(!a.ok){let e=await a.json();console.error("Failed to save transaction:",e),b("Transaction saved on blockchain but failed to record in database: ".concat(e.error))}}catch(e){console.error("Error saving transaction to database:",e),b("Transaction saved on blockchain but failed to record in database.")}}catch(e){b(e.message||"Transaction failed")}x(!1)};return(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("button",{onClick:p,disabled:g,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition disabled:opacity-60",children:g?"Processing...":"Pay with Wallet"}),f&&(0,a.jsxs)("div",{className:"mt-2 text-green-600 dark:text-green-400",children:["Payment sent! Tx: ",(0,a.jsxs)("a",{href:"https://basescan.org/tx/".concat(f),target:"_blank",rel:"noopener noreferrer",className:"underline",children:[f.slice(0,10),"..."]})]}),!window.ethereum&&/iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("div",{className:"mb-2 text-sm text-gray-600 dark:text-gray-300",children:"No wallet detected. Open in your wallet app:"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,a.jsx)("a",{href:"metamask://dapp/".concat(window.location.host+window.location.pathname+window.location.search),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition",children:"Open in MetaMask"}),(0,a.jsx)("a",{href:"cbwallet://dapp?url=".concat(encodeURIComponent(window.location.href)),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition",children:"Open in Coinbase Wallet"}),(0,a.jsx)(u,{to:t,amount:r,currency:o})]})]}),m&&(0,a.jsx)("div",{className:"mt-2 text-red-600 dark:text-red-400",children:m})]})}},22797:(e,t,r)=>{r.d(t,{l8:()=>s,ck:()=>l,Js:()=>o,g5:()=>c,XS:()=>d});var a=r(55788);let n=new(r(83928)).Vy("units/5.8.0"),i=["wei","kwei","mwei","gwei","szabo","finney","ether"];function s(e){let t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&n.throwArgumentError("invalid value","value",e);let r=t[0],a="";for("-"===r.substring(0,1)&&(a="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);let s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{let e=r.length-3;s.unshift(r.substring(e)),r=r.substring(0,e)}return a+s.join(",")+i}function o(e,t){if("string"==typeof t){let e=i.indexOf(t);-1!==e&&(t=3*e)}return(0,a.gn)(e,null!=t?t:18)}function d(e,t){if("string"!=typeof e&&n.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=i.indexOf(t);-1!==e&&(t=3*e)}return(0,a.gs)(e,null!=t?t:18)}function l(e){return o(e,18)}function c(e){return d(e,18)}},55788:(e,t,r)=>{r.d(t,{I3:()=>x,gn:()=>m,gs:()=>b});var a=r(45849),n=r(83928),i=r(17746),s=r(84784);let o=new n.Vy(i.r),d={},l=s.gH.from(0),c=s.gH.from(-1);function u(e,t,r,a){let i={fault:t,operation:r};return void 0!==a&&(i.value=a),o.throwError(e,n.Vy.errors.NUMERIC_FAULT,i)}let f="0";for(;f.length<256;)f+=f;function h(e){if("number"!=typeof e)try{e=s.gH.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+f.substring(0,e):o.throwArgumentError("invalid decimal size","decimals",e)}function m(e,t){null==t&&(t=0);let r=h(t),a=(e=s.gH.from(e)).lt(l);a&&(e=e.mul(c));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];let i=e.div(r).toString();return e=1===r.length?i:i+"."+n,a&&(e="-"+e),e}function b(e,t){null==t&&(t=0);let r=h(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||o.throwArgumentError("invalid decimal value","value",e);let a="-"===e.substring(0,1);a&&(e=e.substring(1)),"."===e&&o.throwArgumentError("missing value","value",e);let n=e.split(".");n.length>2&&o.throwArgumentError("too many decimal points","value",e);let i=n[0],d=n[1];for(i||(i="0"),d||(d="0");"0"===d[d.length-1];)d=d.substring(0,d.length-1);for(d.length>r.length-1&&u("fractional component exceeds decimals","underflow","parseFixed"),""===d&&(d="0");d.length<r.length-1;)d+="0";let l=s.gH.from(i),f=s.gH.from(d),m=l.mul(r).add(f);return a&&(m=m.mul(c)),m}class g{constructor(e,t,r,a){e!==d&&o.throwError("cannot use FixedFormat constructor; use FixedFormat.from",n.Vy.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=a,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(a),this._multiplier=h(a),Object.freeze(this)}static from(e){if(e instanceof g)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,a=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let n=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||o.throwArgumentError("invalid fixed format","format",e),t="u"!==n[1],r=parseInt(n[2]),a=parseInt(n[3])}else if(e){let n=(t,r,a)=>null==e[t]?a:(typeof e[t]!==r&&o.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=n("signed","boolean",t),r=n("width","number",r),a=n("decimals","number",a)}return r%8&&o.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),a>80&&o.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",a),new g(d,t,r,a)}}class x{constructor(e,t,r,a){e!==d&&o.throwError("cannot use FixedNumber constructor; use FixedNumber.from",n.Vy.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=a,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&o.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=b(this._value,this.format.decimals),r=b(e._value,e.format.decimals);return x.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=b(this._value,this.format.decimals),r=b(e._value,e.format.decimals);return x.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=b(this._value,this.format.decimals),r=b(e._value,e.format.decimals);return x.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=b(this._value,this.format.decimals),r=b(e._value,e.format.decimals);return x.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=x.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(p.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=x.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(p.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&o.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=x.from("1"+f.substring(0,e),this.format),a=w.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(a).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&o.throwArgumentError("invalid byte width","width",e);let t=s.gH.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,a.bj)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return x.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,s.YR)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),x.fromString(m(e,t),g.from(r))}static fromString(e,t){null==t&&(t="fixed");let r=g.from(t),n=b(e,r.decimals);!r.signed&&n.lt(l)&&u("unsigned value cannot be negative","overflow","value",e);let i=null;return r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=(0,a.bj)(i,r.width/8)),new x(d,i,m(n,r.decimals),r)}static fromBytes(e,t){null==t&&(t="fixed");let r=g.from(t);if((0,a.k9)(e).length>r.width/8)throw Error("overflow");let n=s.gH.from(e);return r.signed&&(n=n.fromTwos(r.width)),new x(d,n.toTwos(+!r.signed+r.width).toHexString(),m(n,r.decimals),r)}static from(e,t){if("string"==typeof e)return x.fromString(e,t);if((0,a.aY)(e))return x.fromBytes(e,t);try{return x.fromValue(e,0,t)}catch(e){if(e.code!==n.Vy.errors.INVALID_ARGUMENT)throw e}return o.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let p=x.from(1),w=x.from("0.5")},73666:(e,t,r)=>{r.d(t,{_V:()=>i,aV:()=>n,yw:()=>a});let a=[{region:"Tanzania",flag:"\uD83C\uDDF9\uD83C\uDDFF",currency:"TZS",baseToken:"TSHC",name:"Tanzania Shilling Coin",address:"0x123456789abcdef123456789abcdef123456789a",issuer:"NEDA Pay",description:"Stablecoin pegged 1:1 to the Tanzania Shilling (TZS)",website:"https://nedapay.app",chainId:0xaa36a7},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"cNGN",name:"Nigerian Naira Coin",address:"0x46C85152bFe9f96829aA94755D9f915F9B10EF5F",issuer:"Convexity",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453,decimals:6},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"NGNC",decimals:18,name:"Nigerian Naira Coin",address:"0xe743f13623e000261b634f0e5676f294475ec24d",issuer:"Link",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453},{region:"South Africa",flag:"\uD83C\uDDFF\uD83C\uDDE6",currency:"ZAR",baseToken:"ZARP",decimals:18,name:"South African Rand Coin",address:"0xb755506531786C8aC63B756BaB1ac387bACB0C04",issuer:"inv.es",description:"Stablecoin pegged 1:1 to the South African Rand (ZAR)",website:"https://stablecoins.earth",chainId:8453},{region:"Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9",currency:"IDR",baseToken:"IDRX",name:"Indonesian Rupiah Coin",address:"0x18Bc5bcC660cf2B9cE3cd51a404aFe1a0cBD3C22",issuer:"IDRX.co",description:"Stablecoin pegged 1:1 to the Indonesian Rupiah (IDR)",website:"https://stablecoins.earth",chainId:8453,decimals:2},{region:"Europe",flag:"\uD83C\uDDEA\uD83C\uDDFA",currency:"EUR",baseToken:"EURC",decimals:6,name:"Euro Coin",address:"0x60a3e35cc302bfa44cb288bc5a4f316fdb1adb42",issuer:"Circle",description:"Stablecoin pegged 1:1 to the Euro (EUR)",website:"https://stablecoins.earth",chainId:8453},{region:"Canada",flag:"\uD83C\uDDE8\uD83C\uDDE6",currency:"CAD",baseToken:"CADC",decimals:18,name:"Canadian Dollar Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"PayTrie",description:"Stablecoin pegged 1:1 to the Canadian Dollar (CAD)",website:"https://stablecoins.earth",chainId:8453},{region:"Brazil",flag:"\uD83C\uDDE7\uD83C\uDDF7",currency:"BRL",baseToken:"BRL",decimals:18,name:"Brazilian Real Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Transfero",description:"Stablecoin pegged 1:1 to the Brazilian Real (BRL)",website:"https://stablecoins.earth",chainId:8453},{region:"Turkey",flag:"\uD83C\uDDF9\uD83C\uDDF7",currency:"TRY",baseToken:"TRYB",decimals:6,name:"Turkish Lira Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"BiLira",description:"Stablecoin pegged 1:1 to the Turkish Lira (TRY)",website:"https://stablecoins.earth",chainId:8453},{region:"New Zealand",flag:"\uD83C\uDDF3\uD83C\uDDFF",currency:"NZD",baseToken:"NZDD",decimals:6,name:"New Zealand Dollar Coin",address:"0x2dD087589ce9C5b2D1b42e20d2519B3c8cF022b7",issuer:"Easy Crypto",description:"Stablecoin pegged 1:1 to the New Zealand Dollar (NZD)",website:"https://stablecoins.earth",chainId:8453},{region:"Mexico",flag:"\uD83C\uDDF2\uD83C\uDDFD",currency:"MXN",baseToken:"MXNe",decimals:6,name:"Mexican Peso Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Etherfuse/Brale",description:"Stablecoin pegged 1:1 to the Mexican Peso (MXN)",website:"https://stablecoins.earth",decimals:6},{region:"United States",flag:"\uD83C\uDDFA\uD83C\uDDF8",currency:"USD",baseToken:"USDC",name:"USD Coin",address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",issuer:"Circle",description:"USD-backed stablecoin by Circle (Base Mainnet)",website:"https://www.circle.com/usdc",chainId:8453,decimals:6}],n={TSHC:"25,000",cNGN:"8,500",IDRX:"12,000"},i=[{id:"0x123abc456def789ghi0123456789abcdef0123",shortId:"0x123...abc",date:"2025-04-11 10:23",amount:"5,000",currency:"TSHC",status:"Completed",customer:"John Doe",sender:"0x7890abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0x123abc456def789ghi0123456789abcdef0123"},{id:"0x456def789ghi0123456789abcdef0123456789",shortId:"0x456...def",date:"2025-04-10 15:45",amount:"2,500",currency:"cNGN",status:"Completed",customer:"Jane Smith",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0x456def789ghi0123456789abcdef0123456789"},{id:"0x789ghi0123456789abcdef0123456789abcdef",shortId:"0x789...ghi",date:"2025-04-10 09:12",amount:"10,000",currency:"TSHC",status:"Completed",customer:"Acme Corp",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0x789ghi0123456789abcdef0123456789abcdef"},{id:"0xabc0123456789abcdef0123456789abcdef0123",shortId:"0xabc...123",date:"2025-04-09 14:30",amount:"1,200",currency:"IDRX",status:"Completed",customer:"Bob Johnson",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xabc0123456789abcdef0123456789abcdef0123"},{id:"0xdef0123456789abcdef0123456789abcdef0123",shortId:"0xdef...456",date:"2025-04-09 11:05",amount:"7,500",currency:"TSHC",status:"Completed",customer:"Tech Solutions Ltd",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xdef0123456789abcdef0123456789abcdef0123"},{id:"0xghi0123456789abcdef0123456789abcdef0123",shortId:"0xghi...789",date:"2025-04-08 16:20",amount:"3,800",currency:"cNGN",status:"Completed",customer:"Sarah Williams",sender:"0x789abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0xghi0123456789abcdef0123456789abcdef0123"},{id:"0xjkl0123456789abcdef0123456789abcdef0123",shortId:"0xjkl...012",date:"2025-04-08 09:45",amount:"4,200",currency:"TSHC",status:"Completed",customer:"Global Traders",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0xjkl0123456789abcdef0123456789abcdef0123"},{id:"0xmno0123456789abcdef0123456789abcdef0123",shortId:"0xmno...345",date:"2025-04-07 14:15",amount:"6,300",currency:"IDRX",status:"Completed",customer:"Local Market",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0xmno0123456789abcdef0123456789abcdef0123"},{id:"0xpqr0123456789abcdef0123456789abcdef0123",shortId:"0xpqr...678",date:"2025-04-07 10:30",amount:"9,100",currency:"TSHC",status:"Completed",customer:"David Miller",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xpqr0123456789abcdef0123456789abcdef0123"},{id:"0xstu0123456789abcdef0123456789abcdef0123",shortId:"0xstu...901",date:"2025-04-06 17:40",amount:"1,800",currency:"cNGN",status:"Completed",customer:"Emma Davis",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xstu0123456789abcdef0123456789abcdef0123"}]}}]);