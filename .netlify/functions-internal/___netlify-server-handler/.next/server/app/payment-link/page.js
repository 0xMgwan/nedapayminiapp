(()=>{var e={};e.id=493,e.ids=[493],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10446:(e,t,r)=>{Promise.resolve().then(r.bind(r,83761))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41204:e=>{"use strict";e.exports=require("string_decoder")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60322:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>x,pages:()=>l,routeModule:()=>p,tree:()=>c});var a=r(65239),s=r(48088),n=r(88170),d=r.n(n),i=r(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c={children:["",{children:["payment-link",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,83761)),"/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/payment-link/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32797)),"/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,82366)),"/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=["/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/payment-link/page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/payment-link/page",pathname:"/payment-link",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73494:(e,t,r)=>{Promise.resolve().then(r.bind(r,87783))},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/payment-link/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/commendatore-baraka/Desktop/NEDA/NedaPay/merchant-portal/app/payment-link/page.tsx","default")},83997:e=>{"use strict";e.exports=require("tty")},87783:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(60687),s=r(43210),n=r(4390),d=r(31628),i=r(98118);function o(){let{isConnected:e,address:t}=(0,d.F)(),r=()=>t&&t.length>10?t:"",[o,c]=(0,s.useState)(!1),[l,x]=(0,s.useState)(""),[p,u]=(0,s.useState)("TSHC"),[m,b]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1),[k,N]=(0,s.useState)(!1),[w,C]=(0,s.useState)([]),v=async e=>{if(e.preventDefault(),e.stopPropagation(),console.log("Generating payment link via API..."),!l||0>=parseFloat(l))return void alert("Please enter a valid amount");let t=r();if(!t)return void alert("Wallet address not found. Please connect your wallet.");let a=Math.random().toString(36).substring(2,10),s=window.location.origin,n=`${s}/pay/${a}?amount=${l}&currency=${p}&to=${t}`;try{let e=await fetch("/api/payment-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchantId:t,url:n,amount:l,currency:p,description:m||void 0,status:"Active"})});if(e.ok){let t=await e.json();f(n),C(e=>[{id:t.id,createdAt:new Date(t.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),amount:t.amount,currency:t.currency,status:t.status,url:t.url,description:t.description},...e])}else{let t=await e.json();alert(`Error creating payment link: ${t.error}`)}}catch(e){console.error("Error creating payment link:",e),alert("Failed to create payment link. Please try again.")}document.cookie="wallet_connected=true; path=/; max-age=86400"};return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-blue-50 to-white dark:bg-gray-900 dark:text-white",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("div",{className:"my-4",children:(0,a.jsxs)("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 px-3 py-1 border border-gray-300 dark:border-gray-700 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-sm font-medium",children:[(0,a.jsx)("span",{"aria-hidden":"true",children:"←"})," Back"]})}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl px-4 py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2 text-slate-800 dark:text-slate-100",children:"Create Payment Link"}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-base mb-2",children:"Generate a payment link to share with your customers"}),o&&(0,a.jsxs)("div",{className:`rounded-md px-4 py-2 mt-2 text-sm ${r()?"bg-green-50 text-green-900 border border-green-200":"bg-yellow-50 text-yellow-900 border border-yellow-300"}`,children:[(0,a.jsx)("strong",{children:"Merchant Wallet Address:"}),(0,a.jsx)("span",{className:"ml-2 font-mono break-all",children:r()||"No wallet connected. Please connect your wallet."})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 shadow-lg mb-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount"}),(0,a.jsx)("div",{className:"mt-1 flex rounded-md shadow-sm",children:(0,a.jsx)("input",{type:"number",name:"amount",id:"amount",required:!0,value:l,onChange:e=>x(e.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-md border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:ring-primary focus:border-primary",placeholder:"0.00"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Currency"}),(0,a.jsx)("select",{id:"currency",name:"currency",value:p,onChange:e=>u(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-primary focus:border-primary rounded-md",children:i.yw.map(e=>(0,a.jsxs)("option",{value:e.baseToken,children:[e.baseToken," - ",e.name||e.currency||e.region]},e.baseToken))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("textarea",{id:"description",name:"description",rows:3,value:m,onChange:e=>b(e.target.value),className:"shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-md",placeholder:"Payment for services"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("form",{onSubmit:v,children:(0,a.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Generate Payment Link"})})})]}),h&&(0,a.jsxs)("div",{className:"mt-8 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Your Payment Link"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"text",readOnly:!0,value:h,className:"flex-1 p-2 border border-slate-300 dark:border-slate-600 dark:bg-slate-800 rounded-l-md text-sm text-slate-900 dark:text-white"}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(h),y(!0),setTimeout(()=>y(!1),2e3)},className:"bg-slate-200 text-black px-4 py-2 rounded-r-md hover:bg-slate-300",children:g?"Copied!":"Copy"})]}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:"Share this link with your customers to receive payments."})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg mt-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-800 dark:text-white mb-4",children:"Recent Payment Links"}),(0,a.jsx)("div",{className:"force-white-text overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[(0,a.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Date Created"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Currency"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:0===w.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"text-center py-4 text-slate-500",colSpan:5,children:"No payment links yet."})}):w.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.createdAt}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.amount}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.currency}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"View"})})]},e.id))})]})})]})]})})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},98118:(e,t,r)=>{"use strict";r.d(t,{_V:()=>n,aV:()=>s,yw:()=>a});let a=[{region:"Tanzania",flag:"\uD83C\uDDF9\uD83C\uDDFF",currency:"TZS",baseToken:"TSHC",name:"Tanzania Shilling Coin",address:"0x123456789abcdef123456789abcdef123456789a",issuer:"NEDA Pay",description:"Stablecoin pegged 1:1 to the Tanzania Shilling (TZS)",website:"https://nedapay.app",chainId:0xaa36a7},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"cNGN",name:"Nigerian Naira Coin",address:"0x46C85152bFe9f96829aA94755D9f915F9B10EF5F",issuer:"Convexity",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453,decimals:6},{region:"Nigeria",flag:"\uD83C\uDDF3\uD83C\uDDEC",currency:"NGN",baseToken:"NGNC",decimals:18,name:"Nigerian Naira Coin",address:"0xe743f13623e000261b634f0e5676f294475ec24d",issuer:"Link",description:"Stablecoin pegged 1:1 to the Nigerian Naira (NGN)",website:"https://stablecoins.earth",chainId:8453},{region:"South Africa",flag:"\uD83C\uDDFF\uD83C\uDDE6",currency:"ZAR",baseToken:"ZARP",decimals:18,name:"South African Rand Coin",address:"0xb755506531786C8aC63B756BaB1ac387bACB0C04",issuer:"inv.es",description:"Stablecoin pegged 1:1 to the South African Rand (ZAR)",website:"https://stablecoins.earth",chainId:8453},{region:"Indonesia",flag:"\uD83C\uDDEE\uD83C\uDDE9",currency:"IDR",baseToken:"IDRX",name:"Indonesian Rupiah Coin",address:"0x18Bc5bcC660cf2B9cE3cd51a404aFe1a0cBD3C22",issuer:"IDRX.co",description:"Stablecoin pegged 1:1 to the Indonesian Rupiah (IDR)",website:"https://stablecoins.earth",chainId:8453,decimals:2},{region:"Europe",flag:"\uD83C\uDDEA\uD83C\uDDFA",currency:"EUR",baseToken:"EURC",decimals:6,name:"Euro Coin",address:"0x60a3e35cc302bfa44cb288bc5a4f316fdb1adb42",issuer:"Circle",description:"Stablecoin pegged 1:1 to the Euro (EUR)",website:"https://stablecoins.earth",chainId:8453},{region:"Canada",flag:"\uD83C\uDDE8\uD83C\uDDE6",currency:"CAD",baseToken:"CADC",decimals:18,name:"Canadian Dollar Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"PayTrie",description:"Stablecoin pegged 1:1 to the Canadian Dollar (CAD)",website:"https://stablecoins.earth",chainId:8453},{region:"Brazil",flag:"\uD83C\uDDE7\uD83C\uDDF7",currency:"BRL",baseToken:"BRL",decimals:18,name:"Brazilian Real Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Transfero",description:"Stablecoin pegged 1:1 to the Brazilian Real (BRL)",website:"https://stablecoins.earth",chainId:8453},{region:"Turkey",flag:"\uD83C\uDDF9\uD83C\uDDF7",currency:"TRY",baseToken:"TRYB",decimals:6,name:"Turkish Lira Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"BiLira",description:"Stablecoin pegged 1:1 to the Turkish Lira (TRY)",website:"https://stablecoins.earth",chainId:8453},{region:"New Zealand",flag:"\uD83C\uDDF3\uD83C\uDDFF",currency:"NZD",baseToken:"NZDD",decimals:6,name:"New Zealand Dollar Coin",address:"0x2dD087589ce9C5b2D1b42e20d2519B3c8cF022b7",issuer:"Easy Crypto",description:"Stablecoin pegged 1:1 to the New Zealand Dollar (NZD)",website:"https://stablecoins.earth",chainId:8453},{region:"Mexico",flag:"\uD83C\uDDF2\uD83C\uDDFD",currency:"MXN",baseToken:"MXNe",decimals:6,name:"Mexican Peso Coin",address:"0x043eB4B75d0805c43D7C834902E335621983Cf03",issuer:"Etherfuse/Brale",description:"Stablecoin pegged 1:1 to the Mexican Peso (MXN)",website:"https://stablecoins.earth",decimals:6},{region:"United States",flag:"\uD83C\uDDFA\uD83C\uDDF8",currency:"USD",baseToken:"USDC",name:"USD Coin",address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",issuer:"Circle",description:"USD-backed stablecoin by Circle (Base Mainnet)",website:"https://www.circle.com/usdc",chainId:8453,decimals:6}],s={TSHC:"25,000",cNGN:"8,500",IDRX:"12,000"},n=[{id:"0x123abc456def789ghi0123456789abcdef0123",shortId:"0x123...abc",date:"2025-04-11 10:23",amount:"5,000",currency:"TSHC",status:"Completed",customer:"John Doe",sender:"0x7890abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0x123abc456def789ghi0123456789abcdef0123"},{id:"0x456def789ghi0123456789abcdef0123456789",shortId:"0x456...def",date:"2025-04-10 15:45",amount:"2,500",currency:"cNGN",status:"Completed",customer:"Jane Smith",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0x456def789ghi0123456789abcdef0123456789"},{id:"0x789ghi0123456789abcdef0123456789abcdef",shortId:"0x789...ghi",date:"2025-04-10 09:12",amount:"10,000",currency:"TSHC",status:"Completed",customer:"Acme Corp",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0x789ghi0123456789abcdef0123456789abcdef"},{id:"0xabc0123456789abcdef0123456789abcdef0123",shortId:"0xabc...123",date:"2025-04-09 14:30",amount:"1,200",currency:"IDRX",status:"Completed",customer:"Bob Johnson",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xabc0123456789abcdef0123456789abcdef0123"},{id:"0xdef0123456789abcdef0123456789abcdef0123",shortId:"0xdef...456",date:"2025-04-09 11:05",amount:"7,500",currency:"TSHC",status:"Completed",customer:"Tech Solutions Ltd",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xdef0123456789abcdef0123456789abcdef0123"},{id:"0xghi0123456789abcdef0123456789abcdef0123",shortId:"0xghi...789",date:"2025-04-08 16:20",amount:"3,800",currency:"cNGN",status:"Completed",customer:"Sarah Williams",sender:"0x789abcdef123456789abcdef123456789abcde",senderShort:"0x789...cde",blockExplorerUrl:"https://basescan.org/tx/0xghi0123456789abcdef0123456789abcdef0123"},{id:"0xjkl0123456789abcdef0123456789abcdef0123",shortId:"0xjkl...012",date:"2025-04-08 09:45",amount:"4,200",currency:"TSHC",status:"Completed",customer:"Global Traders",sender:"0xabcdef123456789abcdef123456789abcdef01",senderShort:"0xabc...f01",blockExplorerUrl:"https://basescan.org/tx/0xjkl0123456789abcdef0123456789abcdef0123"},{id:"0xmno0123456789abcdef0123456789abcdef0123",shortId:"0xmno...345",date:"2025-04-07 14:15",amount:"6,300",currency:"IDRX",status:"Completed",customer:"Local Market",sender:"0xdef123456789abcdef123456789abcdef01234",senderShort:"0xdef...234",blockExplorerUrl:"https://basescan.org/tx/0xmno0123456789abcdef0123456789abcdef0123"},{id:"0xpqr0123456789abcdef0123456789abcdef0123",shortId:"0xpqr...678",date:"2025-04-07 10:30",amount:"9,100",currency:"TSHC",status:"Completed",customer:"David Miller",sender:"0x123456789abcdef123456789abcdef12345678",senderShort:"0x123...678",blockExplorerUrl:"https://basescan.org/tx/0xpqr0123456789abcdef0123456789abcdef0123"},{id:"0xstu0123456789abcdef0123456789abcdef0123",shortId:"0xstu...901",date:"2025-04-06 17:40",amount:"1,800",currency:"cNGN",status:"Completed",customer:"Emma Davis",sender:"0x456789abcdef123456789abcdef123456789ab",senderShort:"0x456...9ab",blockExplorerUrl:"https://basescan.org/tx/0xstu0123456789abcdef0123456789abcdef0123"}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,322,879,976,319,951,703,390],()=>r(60322));module.exports=a})();